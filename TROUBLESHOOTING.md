# üîß Troubleshooting 502 Bad Gateway Error on Render

## üö® **What is a 502 Bad Gateway Error?**

A 502 error means your Django application is not responding properly. This usually happens when:
- The application crashes during startup
- Database connection fails
- Configuration errors
- Build process fails

## üîç **Step-by-Step Troubleshooting**

### **1. Check Render Build Logs**
1. Go to your Render dashboard
2. Click on `vijaya-pardhu-portfolio` service
3. Check the "Logs" tab
4. Look for error messages in red

### **2. Common Issues and Solutions**

#### **Issue: Database Connection Failed**
**Symptoms:**
- Error messages about PostgreSQL connection
- Database timeout errors

**Solutions:**
- Verify PostgreSQL service is running
- Check `DATABASE_URL` environment variable
- Ensure database is accessible

#### **Issue: Static Files Error**
**Symptoms:**
- Errors about missing static files
- WhiteNoise configuration issues

**Solutions:**
- Check if `collectstatic` ran successfully
- Verify `STATIC_ROOT` directory exists
- Check file permissions

#### **Issue: Django Settings Error**
**Symptoms:**
- Import errors in settings.py
- Configuration validation failures

**Solutions:**
- Check all required packages are installed
- Verify environment variables are set
- Check Django version compatibility

#### **Issue: Gunicorn Startup Failure**
**Symptoms:**
- Gunicorn process not starting
- Port binding errors

**Solutions:**
- Check `startCommand` in render.yaml
- Verify port configuration
- Check worker configuration

### **3. Quick Fixes to Try**

#### **Fix 1: Restart the Service**
1. Go to your service in Render
2. Click "Manual Deploy"
3. Select "Deploy latest commit"

#### **Fix 2: Check Environment Variables**
Ensure these are set in Render:
```
PYTHON_VERSION=3.11.0
DJANGO_SETTINGS_MODULE=portfolio_website.settings
SECRET_KEY=<auto-generated>
DEBUG=false
ALLOWED_HOSTS=.onrender.com
DATABASE_URL=<from PostgreSQL service>
```

#### **Fix 3: Verify Database**
1. Check PostgreSQL service status
2. Verify database is accessible
3. Test connection manually

### **4. Debugging Commands**

#### **Check Application Status**
```bash
# In Render shell or SSH
python manage.py check
python manage.py check --deploy
```

#### **Test Database Connection**
```bash
python manage.py dbshell
```

#### **Verify Static Files**
```bash
python manage.py collectstatic --dry-run
```

### **5. Emergency Recovery**

If nothing works, try this simplified approach:

1. **Update render.yaml** to use basic configuration
2. **Remove complex build steps** temporarily
3. **Use SQLite** instead of PostgreSQL initially
4. **Deploy basic version** first, then add features

### **6. Get Help**

#### **Render Support:**
- [Render Documentation](https://docs.render.com)
- [Render Community](https://community.render.com)
- [Render Status](https://status.render.com)

#### **Check Your Logs:**
- Build logs show what happened during deployment
- Runtime logs show what's happening when requests come in
- Look for specific error messages

## üéØ **Most Common Fix**

The most common cause of 502 errors is **database connection issues**. 

**Quick Check:**
1. Is your PostgreSQL service running?
2. Is the `DATABASE_URL` correctly set?
3. Can you connect to the database manually?

## üöÄ **Prevention Tips**

1. **Test locally first** - Use `deploy_render.bat` or `deploy_render.sh`
2. **Check requirements.txt** - Ensure all packages are compatible
3. **Use simple configuration** - Start basic, add complexity later
4. **Monitor logs** - Check both build and runtime logs
5. **Test database** - Verify connection before deploying

## üìû **Need More Help?**

If you're still getting 502 errors after trying these solutions:

1. **Share your build logs** from Render
2. **Check the specific error messages**
3. **Try the emergency recovery steps**
4. **Consider starting with a minimal configuration**

---

**Remember:** 502 errors are usually configuration issues, not code problems. The solution is often in the deployment setup, not your Django code!
